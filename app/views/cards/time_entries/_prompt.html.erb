<div id="time-entry-prompt" data-controller="dialog" data-dialog-modal-value="true" data-dialog-auto-open-value="true" data-action="keydown.esc->dialog#close:stop" data-turbo-permanent>
  <dialog class="dialog panel fill-white shadow gap flex-column" style="max-width: 40ch" data-dialog-target="dialog">
    <h3 class="txt-large txt-bold">Log Time</h3>
    <p class="txt-medium margin-block-half">How many hours did you spend on this task?</p>
    
    <%= form_with model: [ card, TimeEntry.new ], url: card_time_entries_path(card), class: "flex flex-column gap", data: { turbo_frame: "_top" } do |form| %>
      <div class="flex flex-column gap-half">
        <%= form.label :hours, "Hours", class: "txt-small txt-bold" %>
        <%= form.number_field :hours, step: 0.25, min: 0, placeholder: "0.0", class: "input", required: true, autofocus: true %>
      </div>
      
      <div class="flex flex-column gap-half">
        <%= form.label :notes, "Notes (optional)", class: "txt-small txt-bold" %>
        <%= form.text_area :notes, rows: 3, class: "input", placeholder: "What did you work on?" %>
      </div>
      
      <div class="flex gap-half justify-center margin-block-start">
        <button type="button" class="btn" data-action="dialog#close">Skip</button>
        <%= form.submit "Log Time", class: "btn txt-positive" %>
      </div>
    <% end %>
  </dialog>
</div>
